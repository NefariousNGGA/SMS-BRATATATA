<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Garou Admin Panel</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'JetBrains Mono', monospace; 
            background: #0a0a0a; 
            color: #e0e0e0;
        }
        .terminal { 
            border: 1px solid #333; 
            background: #111; 
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.1);
        }
        .input-field {
            background: #1a1a1a;
            border: 1px solid #333;
            color: #00ff00;
        }
        .input-field:focus {
            border-color: #00ff00;
            box-shadow: 0 0 5px #00ff00;
        }
        .btn-primary {
            background: linear-gradient(135deg, #00ff00, #00cc00);
            color: #000;
            font-weight: 600;
        }
        .btn-primary:hover {
            background: linear-gradient(135deg, #00cc00, #009900);
        }
        .btn-danger {
            background: linear-gradient(135deg, #ff4444, #cc0000);
            color: white;
        }
        .btn-danger:hover {
            background: linear-gradient(135deg, #cc0000, #990000);
        }
        .key-item {
            background: #1a1a1a;
            border-left: 4px solid #00ff00;
        }
        .key-item.revoked {
            border-left-color: #ff4444;
            opacity: 0.6;
        }
    </style>
</head>
<body class="p-4 flex items-center justify-center min-h-screen">
    <div class="terminal w-full max-w-4xl p-8 rounded-lg">
        <!-- Login Section -->
        <div id="login-section" class="mb-8">
            <h1 class="text-3xl text-center font-bold text-green-500 mb-2">üîê GAROU ADMIN</h1>
            <p class="text-center text-gray-400 mb-6">Authentication Required</p>
            
            <div class="max-w-md mx-auto">
                <input 
                    type="password" 
                    id="admin-password" 
                    placeholder="Enter admin password" 
                    class="input-field w-full p-4 rounded mb-4 text-center text-lg"
                >
                <div class="flex items-center justify-between mb-4">
                    <label class="flex items-center text-sm text-gray-400">
                        <input type="checkbox" id="remember-me" class="mr-2"> Remember me
                    </label>
                    <button onclick="login()" class="btn-primary px-6 py-3 rounded font-semibold">
                        UNLOCK PANEL
                    </button>
                </div>
            </div>
        </div>

        <!-- Admin Panel -->
        <div id="admin-panel" class="hidden">
            <!-- Header -->
            <div class="flex justify-between items-center mb-8">
                <h1 class="text-2xl font-bold text-green-500">üê∫ GAROU ADMIN PANEL</h1>
                <button onclick="logout()" class="btn-danger px-4 py-2 rounded text-sm">
                    LOGOUT
                </button>
            </div>

            <!-- Key Generation -->
            <div class="mb-8 p-6 border border-green-500/30 rounded-lg">
                <h2 class="text-xl font-semibold text-green-400 mb-4">üéØ GENERATE NEW KEY</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                    <div>
                        <label class="block text-sm text-gray-400 mb-2">Validity Duration</label>
                        <select id="key-duration" class="input-field w-full p-3 rounded">
                            <option value="7">7 days</option>
                            <option value="30" selected>30 days</option>
                            <option value="90">90 days</option>
                            <option value="365">1 year</option>
                            <option value="9999">Lifetime</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm text-gray-400 mb-2">Max Attacks</label>
                        <input 
                            type="number" 
                            id="max-attacks" 
                            value="100"
                            min="1"
                            max="10000"
                            class="input-field w-full p-3 rounded"
                        >
                    </div>
                    <div class="flex items-end">
                        <button onclick="generateKey()" class="btn-primary w-full p-3 rounded font-semibold">
                            GENERATE KEY
                        </button>
                    </div>
                </div>

                <!-- New Key Display -->
                <div id="new-key-container" class="hidden mt-4 p-4 bg-black border border-yellow-500 rounded">
                    <label class="block text-sm text-yellow-400 mb-2">NEW KEY GENERATED:</label>
                    <div id="new-key" class="text-xl font-mono font-bold text-yellow-400 p-3 bg-gray-900 rounded"></div>
                    <button onclick="copyKey()" class="btn-primary mt-2 px-4 py-2 rounded text-sm">
                        COPY TO CLIPBOARD
                    </button>
                </div>
            </div>

            <!-- Active Keys -->
            <div class="mb-6">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-xl font-semibold text-blue-400">ACTIVE KEYS</h2>
                    <div class="text-sm text-gray-400">
                        Total: <span id="total-keys" class="text-white">0</span> | 
                        Active: <span id="active-keys" class="text-green-400">0</span>
                    </div>
                </div>
                
                <div id="keys-list" class="space-y-3 max-h-96 overflow-y-auto">
                    <!-- Keys will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // Admin password - CHANGE THIS!
        const ADMIN_PASSWORD = "Haru Urara";
        
        // Check if user is already logged in
        document.addEventListener('DOMContentLoaded', function() {
            const savedPassword = localStorage.getItem('garou-admin-authed');
            if (savedPassword === ADMIN_PASSWORD) {
                showAdminPanel();
            }
        });

        function login() {
            const password = document.getElementById('admin-password').value;
            const rememberMe = document.getElementById('remember-me').checked;
            
            if (password === ADMIN_PASSWORD) {
                if (rememberMe) {
                    localStorage.setItem('garou-admin-authed', password);
                }
                showAdminPanel();
            } else {
                alert('‚ùå Invalid password!');
            }
        }

        function logout() {
            localStorage.removeItem('garou-admin-authed');
            document.getElementById('admin-panel').classList.add('hidden');
            document.getElementById('login-section').classList.remove('hidden');
            document.getElementById('admin-password').value = '';
        }

        function showAdminPanel() {
            document.getElementById('login-section').classList.add('hidden');
            document.getElementById('admin-panel').classList.remove('hidden');
            loadKeys();
        }

        function generateKey() {
            const duration = parseInt(document.getElementById('key-duration').value);
            const maxAttacks = parseInt(document.getElementById('max-attacks').value);
            
            const prefix = "Garou-";
            const hash = Math.random().toString(36).substring(2, 8);
            const newKey = prefix + hash;
            
            // Calculate expiration date
            const expires = duration === 9999 ? null : new Date(Date.now() + duration * 24 * 60 * 60 * 1000);
            
            // Save key
            saveKey(newKey, duration, maxAttacks, expires);
            
            // Show new key
            document.getElementById('new-key').textContent = newKey;
            document.getElementById('new-key-container').classList.remove('hidden');
            
            // Reload keys list
            loadKeys();
        }

        function saveKey(key, duration, maxAttacks, expires) {
            const keys = JSON.parse(localStorage.getItem('garou-keys') || '{}');
            keys[key] = {
                created: new Date().toISOString(),
                active: true,
                duration: duration,
                maxAttacks: maxAttacks,
                usedAttacks: 0,
                expires: expires
            };
            localStorage.setItem('garou-keys', JSON.stringify(keys));
        }

        function loadKeys() {
            const keys = JSON.parse(localStorage.getItem('garou-keys') || '{}');
            const keysList = document.getElementById('keys-list');
            keysList.innerHTML = '';

            let total = 0;
            let active = 0;

            Object.entries(keys).forEach(([key, data]) => {
                total++;
                if (data.active) active++;

                const isExpired = data.expires && new Date(data.expires) < new Date();
                const daysLeft = data.expires ? 
                    Math.ceil((new Date(data.expires) - new Date()) / (24 * 60 * 60 * 1000)) : 
                    '‚àû';

                const keyElement = document.createElement('div');
                keyElement.className = `key-item p-4 rounded ${!data.active || isExpired ? 'revoked' : ''}`;
                
                keyElement.innerHTML = `
                    <div class="flex justify-between items-start mb-2">
                        <div>
                            <span class="font-mono font-bold text-lg ${data.active && !isExpired ? 'text-green-400' : 'text-red-400'}">${key}</span>
                            <div class="text-xs text-gray-400 mt-1">
                                Created: ${new Date(data.created).toLocaleDateString()} | 
                                Attacks: ${data.usedAttacks}/${data.maxAttacks} |
                                Expires: ${data.expires ? new Date(data.expires).toLocaleDateString() : 'Never'} 
                                ${daysLeft !== '‚àû' ? `(${daysLeft} days left)` : ''}
                            </div>
                        </div>
                        <div class="flex gap-2">
                            ${!isExpired ? `
                                <button onclick="revokeKey('${key}')" class="bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-xs">
                                    ${data.active ? 'REVOKE' : 'ACTIVATE'}
                                </button>
                            ` : ''}
                            <button onclick="deleteKey('${key}')" class="bg-gray-600 hover:bg-gray-700 text-white px-3 py-1 rounded text-xs">
                                DELETE
                            </button>
                            <button onclick="resetKey('${key}')" class="bg-yellow-600 hover:bg-yellow-700 text-white px-3 py-1 rounded text-xs">
                                RESET
                            </button>
                        </div>
                    </div>
                    ${isExpired ? '<div class="text-xs text-red-400">‚ö†Ô∏è EXPIRED</div>' : ''}
                `;
                
                keysList.appendChild(keyElement);
            });

            document.getElementById('total-keys').textContent = total;
            document.getElementById('active-keys').textContent = active;
        }

        function revokeKey(key) {
            const keys = JSON.parse(localStorage.getItem('garou-keys') || '{}');
            keys[key].active = !keys[key].active;
            localStorage.setItem('garou-keys', JSON.stringify(keys));
            loadKeys();
        }

        function deleteKey(key) {
            if (confirm(`Permanently delete key ${key}? This cannot be undone!`)) {
                const keys = JSON.parse(localStorage.getItem('garou-keys') || '{}');
                delete keys[key];
                localStorage.setItem('garou-keys', JSON.stringify(keys));
                loadKeys();
            }
        }

        function resetKey(key) {
            const keys = JSON.parse(localStorage.getItem('garou-keys') || '{}');
            keys[key].usedAttacks = 0;
            localStorage.setItem('garou-keys', JSON.stringify(keys));
            loadKeys();
        }

        function copyKey() {
            const keyText = document.getElementById('new-key').textContent;
            navigator.clipboard.writeText(keyText).then(() => {
                alert('‚úÖ Key copied to clipboard!');
            });
        }
    </script>
</body>
</html>